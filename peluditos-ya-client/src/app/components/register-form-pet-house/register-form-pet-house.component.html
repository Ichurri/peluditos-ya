<div class="register-container">
  <h1>Registro de Casa Hogar</h1>

  <form [formGroup]="registerForm" (ngSubmit)="submitForm()">
    <!-- Campos de usuario -->
    <div class="form-group">
      <label for="email">Email *</label>
      <input
        type="text"
        id="email"
        formControlName="email"
        placeholder="ejemplo@correo.com"
        [ngClass]="{
          invalid:
            registerForm.get('email')?.invalid &&
            registerForm.get('email')?.touched
        }"
      />
      <div
        *ngIf="registerForm.get('email')?.errors?.['required'] && registerForm.get('email')?.touched"
        class="error-message"
      >
        <i class="icon-warning"></i> Email es obligatorio
      </div>
      <div
        *ngIf="registerForm.get('email')?.errors?.['email']"
        class="error-message"
      >
        <i class="icon-warning"></i> Formato de email inválido
      </div>
    </div>


    <!-- Campos específicos de refugio -->
    <div class="form-group">
      <label for="nombreRefugio">Nombre del Refugio *</label>
      <input
        type="text"
        id="nombreRefugio"
        formControlName="nombreRefugio"
        placeholder="Ej: Hogar de Mascotas Felices"
        [ngClass]="{
          invalid:
            registerForm.get('nombreRefugio')?.invalid &&
            registerForm.get('nombreRefugio')?.touched
        }"
      />
      <div
        *ngIf="
          registerForm.get('nombreRefugio')?.invalid &&
          registerForm.get('nombreRefugio')?.touched
        "
        class="error-message"
      >
        <i class="icon-warning"></i> Nombre del refugio es obligatorio
      </div>
    </div>

    <!-- Campos de subida de archivos actualizados -->
    <div class="form-group file-upload-group">
      <label>Documento de Verificación (PDF) *</label>
      <div class="file-upload-wrapper">
        <label class="file-upload-label">
          <i class="icon-upload"></i>
          <span>{{
            documentos.documentoVerificacion.fileName || "Seleccionar PDF"
          }}</span>
          <input
            type="file"
            (change)="validarArchivo($event, 'documentoVerificacion')"
            accept="application/pdf"
          />
        </label>
      </div>
      <div *ngIf="errores['documentoVerificacion']" class="error-message">
        <i class="icon-warning"></i> {{ errores["documentoVerificacion"] }}
      </div>
    </div>

    <div class="form-group file-upload-group">
      <label>Foto de Dirección (JPG/PNG) *</label>
      <div class="file-upload-wrapper">
        <label class="file-upload-label">
          <i class="icon-upload"></i>
          <span>{{
            documentos.fotoDireccion.fileName || "Seleccionar imagen"
          }}</span>
          <input
            type="file"
            (change)="validarArchivo($event, 'fotoDireccion')"
            accept="image/jpeg, image/png"
          />
        </label>
      </div>
      <div *ngIf="errores['fotoDireccion']" class="error-message">
        <i class="icon-warning"></i> {{ errores["fotoDireccion"] }}
      </div>
    </div>

    <!-- Botón de Enviar -->
    <button
      type="submit"
      class="register-button"
      [disabled]="registerForm.invalid || isSubmitting"
    >
      <span *ngIf="!isSubmitting">Solicitar Reconocimiento</span>
      <span *ngIf="isSubmitting" class="loading-spinner"></span>
    </button>

    <div class="form-footer">
      <p>¿Necesitas ayuda? <a href="/contacto">Contáctanos</a></p>
    </div>
    <!-- Resto del formulario... -->
  </form>
</div>

<app-footer></app-footer>
