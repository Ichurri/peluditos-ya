<div class="register-container">
    <h1>Solicitar Reconocimiento como Refugio</h1>
    <p class="form-description">Complete el formulario para solicitar el reconocimiento oficial de su refugio.</p>

    <form [formGroup]="registerForm" (ngSubmit)="submitForm()">
        <!-- Nombre del Refugio -->
        <div class="form-group">
            <label for="nombre">Nombre del Refugio *</label>
            <input type="text" id="nombre" formControlName="nombre" placeholder="Ej: Refugio Amor Animal"
                [ngClass]="{ 'invalid': registerForm.get('nombre')?.invalid && registerForm.get('nombre')?.touched }">
            <div *ngIf="registerForm.get('nombre')?.invalid && registerForm.get('nombre')?.touched" class="error-message">
                <i class="icon-warning"></i> Nombre del refugio es obligatorio.
            </div>
        </div>

        <!-- Dirección -->
        <div class="form-group">
            <label for="direccion">Dirección *</label>
            <input type="text" id="direccion" formControlName="direccion" placeholder="Ej: Calle Principal #123, Ciudad"
                [ngClass]="{ 'invalid': registerForm.get('direccion')?.invalid && registerForm.get('direccion')?.touched }">
            <div *ngIf="registerForm.get('direccion')?.invalid && registerForm.get('direccion')?.touched" class="error-message">
                <i class="icon-warning"></i> Dirección es obligatoria.
            </div>
        </div>

        <!-- Teléfono -->
        <div class="form-group">
            <label for="telefono">Teléfono de Contacto *</label>
            <input type="tel" id="telefono" formControlName="telefono" placeholder="Ej: 5512345678"
                [ngClass]="{ 'invalid': registerForm.get('telefono')?.invalid && registerForm.get('telefono')?.touched }">
            <div *ngIf="registerForm.get('telefono')?.invalid && registerForm.get('telefono')?.touched" class="error-message">
                <i class="icon-warning"></i> Teléfono válido requerido (8-15 caracteres numéricos).
            </div>
        </div>

        <!-- Subida de Identificación -->
        <div class="form-group file-upload-group">
            <label for="identificacion">Identificación Legal del Refugio *</label>
            <div class="file-upload-wrapper">
                <label for="identificacion" class="file-upload-label">
                    <i class="icon-upload"></i>
                    <span>{{ identificacionFileName || 'Seleccionar archivo' }}</span>
                </label>
                <input type="file" id="identificacion" (change)="validarArchivo($event, 'identificacion')">
            </div>
            <div class="file-hint">Formatos aceptados: PDF, JPG, PNG (Máx. 5MB)</div>
            <div *ngIf="errores['identificacion']" class="error-message">
                <i class="icon-warning"></i> {{ errores['identificacion'] }}
            </div>
        </div>

        <!-- Subida de Comprobante de Domicilio -->
        <div class="form-group file-upload-group">
            <label for="domicilio">Comprobante de Domicilio *</label>
            <div class="file-upload-wrapper">
                <label for="domicilio" class="file-upload-label">
                    <i class="icon-upload"></i>
                    <span>{{ domicilioFileName || 'Seleccionar archivo' }}</span>
                </label>
                <input type="file" id="domicilio" (change)="validarArchivo($event, 'domicilio')">
            </div>
            <div class="file-hint">Formatos aceptados: PDF, JPG, PNG (Máx. 5MB)</div>
            <div *ngIf="errores['domicilio']" class="error-message">
                <i class="icon-warning"></i> {{ errores['domicilio'] }}
            </div>
        </div>

        <!-- Campos obligatorios nota -->
        <div class="required-fields-note">
            * Campos obligatorios
        </div>

        <!-- Botón de Enviar -->
        <button type="submit" class="register-button" [disabled]="registerForm.invalid || isSubmitting">
            <span *ngIf="!isSubmitting">Solicitar Reconocimiento</span>
            <span *ngIf="isSubmitting" class="loading-spinner"></span>
        </button>
        
        <div class="form-footer">
            <p>¿Necesitas ayuda? <a href="/contacto">Contáctanos</a></p>
        </div>
    </form>
</div>

<app-footer></app-footer>